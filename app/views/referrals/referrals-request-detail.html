<div class="transbox">
  <div ng-if="referral.referralState == 'planned'" class="innerTransbox">
    <h3><strong>Referral Request</strong></h3>

    <div class="form-horizontal text-left">
      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Referral Ref:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.reference }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Referral From:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.referralFrom }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Referral To:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.referralTo }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">State:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.referralState }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Type:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.referralType }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Date Requested:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.dateOfReferral | date:'dd-MMM-y'}}</div>
        </div>
      </div>

      <div class="form-group form-group-sm DetailsSubHeadingt">
        <label class="control-label col-md-12">Reason for Referral:</label>
        <div class="col-md-12">
          <div class="form-control-static">{{ referral.reason }}</div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <span class="patientSummary-spinner" us-spinner="{radius:20, width:8, length: 16}" spinner-key="referralDetail-spinner" spinner-start-active="true"></span>
        </div>
      </div>

      <div class="form-group form-group-sm DetailsSubHeadingt">
        <label class="control-label col-md-12">Summary:</label>
        <div class="col-md-12">
          <div class="form-control-static">{{ referral.clinicalSummary }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm DetailsSubHeadingt">
        <label class="control-label col-md-3">Author:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.author }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Date Created:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.dateCreated | date:'dd-MMM-y'}}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Source:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.source }}</div>
        </div>
      </div>
    </div>
  </div>

  <div ng-if="referral.referralState == 'completed'" class="innerTransbox">
    <h3><strong>Referral Response</strong></h3>

    <div class="form-horizontal text-left">
      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Referral Ref:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.reference }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Referral From:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.referralFrom }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Referral To:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.referralTo }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">State:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.referralState }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Type:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.referralType }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Date Requested:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.dateOfReferral | date:'dd-MMM-y'}}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Date Responded:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.dateOfResponse | date:'dd-MMM-y'}}</div>
        </div>
      </div>

      <div class="form-group form-group-sm DetailsSubHeadingt">
        <label class="control-label col-md-12">Reason for Referral:</label>
        <div class="col-md-12">
          <div class="form-control-static">{{ referral.reason }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm DetailsSubHeadingt">
        <label class="control-label col-md-12">Referral Outcome:</label>
        <div class="col-md-12">
          <div class="form-control-static">{{ referral.outcome }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm DetailsSubHeadingt">
        <label class="control-label col-md-3">Author:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.author }}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Date Created:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.dateCreated | date:'dd-MMM-y'}}</div>
        </div>
      </div>

      <div class="form-group form-group-sm">
        <label class="control-label col-md-3">Source:</label>
        <div class="col-md-9">
          <div class="form-control-static">{{ referral.source }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="form-group form-group-sm text-right">
  <button ng-if="referral.referralState == 'planned'" class="btn btn-primary" ng-click="respond();">Respond to Referral</button>
  <button ng-if="referral.source != 'SC_CIS'"  class="btn btn-info" ng-click="edit();"><i class="fa fa-pencil"></i> Edit</button>
</div>

